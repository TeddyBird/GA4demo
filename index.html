<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GA4 demo</title>
    <link rel="stylesheet" href="./style.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-J15TGDMSD0"></script>
    <script>
        let x = 1;
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-J15TGDMSD0');
    </script>
</head>
<body>
    <ul>
        <li><a href="https://www.google.com/" class="google_link">Google</a></li>
        <li><a href="https://www.youtube.com/" class="YT_link">Youtube</a></li>
    </ul>


    <script>
        const links = document.querySelectorAll("a");
        for(let i = 0; i < links.length; i++){
            links[i].addEventListener("click", function(e){
                e.preventDefault();
                gtag('event', 'link_click', {
                    'link_url': e.target.href,
                    'link_text': e.target.textContent,
                    'link_class': e.target.className
                })
                console.log(e.target);
            }, false);
        }
    </script>
</body>
</html>